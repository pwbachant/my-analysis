stages:
  run-main-notebook:
    cmd: calkit nb execute --environment main --no-check --language python
      --to html "notebooks/main.ipynb"
    deps:
      - .calkit/notebooks/cleaned/notebooks/main.ipynb
      - data/raw/penguins.csv
      - uv.lock
    outs:
      - figures:
          cache: false
          persist: false
      - tables:
          cache: false
          persist: false
      - results/vif.json:
          cache: false
          persist: false
      - .calkit/notebooks/html/notebooks/main.html:
          cache: false
    desc: Automatically generated from the 'run-main-notebook' stage in
      calkit.yaml. Changes made here will be overwritten.
  build-paper:
    cmd: calkit latex build -e tex --no-check paper/main.tex
    deps:
      - paper/main.tex
      - paper/references.bib
      - paper/results.tex
      - paper/figures
      - paper/tables
      - .calkit/env-locks/tex
    outs:
      - paper/main.pdf
    desc: Automatically generated from the 'build-paper' stage in calkit.yaml.
      Changes made here will be overwritten.
